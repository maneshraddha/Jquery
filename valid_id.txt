<!--/*
*@Filename:validEmail.html
*@Date:29-11-2016
*@Purpose: email validity
*@Created By:Shraddha Mane
*/-->
<!DOCTYPE html>
<html>
<style>
/* Popup container - can be anything you want */
.popup {
    position: relative;
    display: inline-block;
    cursor: pointer;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

/* The actual popup */
.popup .popuptext {
    visibility: hidden;
    width: 160px;
    background-color: #555;
    color: #fff;
    text-align: center;
    border-radius: 6px;
    padding: 8px 0;
    position: absolute;
    z-index: 1;
    bottom: 125%;
    left: 50%;
    margin-left: -80px;
}

/* Popup arrow */
.popup .popuptext::after {
    content: "";
    position: absolute;
    top: 100%;
    left: 50%;
    margin-left: -5px;
    border-width: 5px;
    border-style: solid;
    border-color: #555 transparent transparent transparent;
}

/* Toggle this class - hide and show the popup */
.popup .show {
    visibility: visible;
    -webkit-animation: fadeIn 1s;
    animation: fadeIn 1s;
}

/* Add animation (fade in the popup) */
@-webkit-keyframes fadeIn {
    from {opacity: 0;}
    to {opacity: 1;}
}

@keyframes fadeIn {
    from {opacity: 0;}
    to {opacity:1 ;}
}
</style>
  <head>
    <meta charset="utf-8">
    <title>Email Validity</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script>
    var validId = [];
    $(document).ready(function()
    {
          $.ajax
          ({
              url : "email.txt",
              type : 'GET',
              dataType: "text",
              success : function (data)
              {
                //$(".popup").html(data);
                var string = JSON.stringify(data);
                document.getElementById('id').innerHTML = "Email ids are : " + string;
                var array = string.split(",");
                var regex =  /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                for(var i =0; i<array.length; i++)
                {
                    var check = regex.test(array[i]);
                    if(check)
                    {
                      //console.log("valid id is :" + array[i] + "<br>");
                    //  console.log($("#append").append(array[i]));
                      //var checkdata = $("#append").append(array[i]);
                      //console.log("data is" + checkdata);
                      //document.getElementById('#append').innerHTML = + "<br>" ;
                      document.getElementById('myPopup').innerHTML = array[i] + "<br>" ;
                    }

                }
                //console.log(validId[0]);

              }


          });

  });


      function myFunction()
      {
          var popup = document.getElementById('myPopup');
          popup.classList.toggle('show');
      }
    </script>
  </head>

  <body style="text-align:center">
  <div id = "id"></div>
  <br><br>
  <div id="append"></div>
  <!-- <button type="button" name="button">Click Me</button> -->
    <div class="popup" onclick="myFunction()">Click me to toggle the popup!
        <span class="popuptext" id="myPopup">A Simple popup</span>
    </div>

  </body>

</html>
